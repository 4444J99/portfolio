<script>
  import { initSketches, teardownPage, reinitPage } from '../sketches/sketch-loader';

  // Initial load
  initSketches();

  // View Transition lifecycle: preserve bg-canvas, reinit per-page sketches
  document.addEventListener('astro:before-swap', () => teardownPage());
  document.addEventListener('astro:page-load', () => reinitPage());
</script>
