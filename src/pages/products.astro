---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import SketchContainer from '../components/sketches/SketchContainer.astro';

const products = [
  {
    name: 'Gamified Coach Interface',
    repo: 'organvm-iii-ergon/gamified-coach-interface',
    type: 'SaaS',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Holographic 3D fitness coaching visualization built with Three.js and Vite. Interactive orbital node system for strategy mapping and progress tracking.',
    demo: 'https://organvm-iii-ergon.github.io/gamified-coach-interface/',
    featured: true,
  },
  {
    name: 'Public Record Data Scrapper',
    repo: 'organvm-iii-ergon/public-record-data-scrapper',
    type: 'B2B',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Automated public records aggregation and analysis platform for business intelligence and compliance workflows.',
  },
  {
    name: 'Trade Perpetual Future',
    repo: 'organvm-iii-ergon/trade-perpetual-future',
    type: 'B2B',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Perpetual futures trading interface with real-time analytics, position management, and strategy backtesting.',
  },
  {
    name: 'Sovereign Ecosystem — Real Estate Luxury',
    repo: 'organvm-iii-ergon/sovereign-ecosystem--real-estate-luxury',
    type: 'B2B2C',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Luxury real estate marketplace with sovereign identity integration and multi-party transaction orchestration.',
  },
  {
    name: 'Universal Mail Automation',
    repo: 'organvm-iii-ergon/universal-mail--automation',
    type: 'B2B',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Cross-platform mail automation engine with template management, scheduling, and deliverability analytics.',
  },
  {
    name: 'Search Local — Happy Hour',
    repo: 'organvm-iii-ergon/search-local--happy-hour',
    type: 'B2C',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Location-aware discovery platform for local dining and nightlife with real-time deal aggregation.',
  },
  {
    name: 'Fetch Familiar Friends',
    repo: 'organvm-iii-ergon/fetch-familiar-friends',
    type: 'B2C',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Social pet adoption and community platform connecting shelters with potential adopters.',
  },
  {
    name: 'Multi-Camera Livestream Framework',
    repo: 'organvm-iii-ergon/multi-camera--livestream--framework',
    type: 'B2B2C',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Multi-source livestream orchestration with scene switching, overlays, and audience interaction tools.',
  },
  {
    name: 'Tab Bookmark Manager',
    repo: 'organvm-iii-ergon/tab-bookmark-manager',
    type: 'SaaS',
    revenue_model: 'freemium', revenue_status: 'pre-revenue',
    description: 'Browser extension for intelligent tab organization, session management, and cross-device bookmark sync.',
  },
  {
    name: 'The Actual News',
    repo: 'organvm-iii-ergon/the-actual-news',
    type: 'B2C',
    revenue_model: 'subscription', revenue_status: 'pre-revenue',
    description: 'Curated news aggregation with source transparency scoring and bias-aware presentation.',
  },
  {
    name: 'Your Fit Tailored',
    repo: 'organvm-iii-ergon/your-fit-tailored',
    type: 'B2C',
    revenue_model: 'subscription', revenue_status: 'pre-revenue',
    description: 'Personalized fitness program generator with adaptive progression and wearable device integration.',
  },
  {
    name: 'Classroom RPG Aetheria',
    repo: 'organvm-iii-ergon/classroom-rpg-aetheria',
    type: 'SaaS',
    revenue_model: 'premium', revenue_status: 'pre-revenue',
    description: 'Gamified classroom management RPG where student engagement drives character progression and world-building.',
  },
];

const typeBadgeColors: Record<string, string> = {
  SaaS: '#6366f1',
  B2B: '#0891b2',
  B2C: '#16a34a',
  B2B2C: '#ca8a04',
};
---

<Layout title="Products — Revenue Channels" description="ORGAN-III commerce products: SaaS, B2B, B2C, and B2B2C revenue channels across 15 deployed applications.">
  <Header />
  <main>
    <div class="sketch-accent">
      <SketchContainer sketchId="pipeline" height="250px" mobileHeight="180px" ariaLabel="Animated pipeline visualization representing commerce flow" />
    </div>
    <section class="section">
      <div class="container">
        <h1 class="page-title">Products & Revenue Channels</h1>
        <p class="page-sub">
          ORGAN-III (Ergon) houses {products.length} revenue-generating products spanning SaaS platforms,
          B2B tools, B2C consumer applications, and hybrid B2B2C marketplaces.
          Infrastructure deployed — products available for demonstration and pilot programs.
        </p>

        <div class="product-grid">
          {products.map(p => (
            <div class:list={['product-card', { 'product-card--featured': p.featured }]}>
              {p.featured && <span class="product-card__featured-badge">Live Demo</span>}
              <div class="product-card__header">
                <h3 class="product-card__name">{p.name}</h3>
                <span class="product-card__type" style={`--type-color: ${typeBadgeColors[p.type] || '#888'}`}>
                  {p.type}
                </span>
              </div>
              <p class="product-card__desc">{p.description}</p>
              <div class="product-card__meta">
                <span class="product-card__revenue">{p.revenue_model} &middot; {p.revenue_status}</span>
              </div>
              <div class="product-card__links">
                <a href={`https://github.com/${p.repo}`} target="_blank" rel="noopener">GitHub</a>
                {p.demo && <a href={p.demo} target="_blank" rel="noopener" class="product-card__demo-link">Live Demo</a>}
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>

<style>
  .page-title {
    margin-bottom: var(--space-sm);
  }

  .page-sub {
    margin-bottom: var(--space-2xl);
    max-width: 42em;
  }

  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: var(--space-lg);
  }

  .product-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: var(--space-lg);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    transition: border-color var(--transition-fast);
    position: relative;
  }

  .product-card:hover {
    border-color: var(--text-muted);
  }

  .product-card--featured {
    border-color: var(--accent);
    grid-column: 1 / -1;
  }

  .product-card__featured-badge {
    position: absolute;
    top: var(--space-sm);
    right: var(--space-sm);
    background: var(--accent);
    color: var(--bg);
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    padding: 0.2em 0.6em;
    border-radius: 3px;
    letter-spacing: 0.05em;
  }

  .product-card__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    flex-wrap: wrap;
  }

  .product-card__name {
    font-size: 1.05rem;
    font-weight: 600;
    margin: 0;
  }

  .product-card__type {
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    padding: 0.15em 0.5em;
    border-radius: 3px;
    border: 1px solid var(--type-color);
    color: var(--type-color);
  }

  .product-card__desc {
    font-size: 0.88rem;
    color: var(--text-secondary);
    line-height: 1.5;
    flex: 1;
  }

  .product-card__meta {
    font-size: 0.78rem;
    color: var(--text-muted);
    font-family: var(--font-mono);
  }

  .product-card__links {
    display: flex;
    gap: var(--space-md);
    font-size: 0.85rem;
    padding-top: var(--space-xs);
    border-top: 1px solid var(--border);
  }

  .product-card__links a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .product-card__links a:hover {
    color: var(--text-primary);
  }

  .product-card__demo-link {
    color: var(--accent) !important;
    font-weight: 500;
  }

  @media (max-width: 768px) {
    .product-card--featured {
      grid-column: auto;
    }

    .product-grid {
      grid-template-columns: 1fr;
    }
  }
  .sketch-accent {
    margin-bottom: var(--space-xl);
    padding: 0 var(--space-lg);
    max-width: var(--max-width);
    margin-left: auto;
    margin-right: auto;
  }
</style>
